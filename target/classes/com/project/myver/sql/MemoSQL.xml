<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE mapper PUBLIC "-//mybatis.org//DTD Config 3.0//EN"
"HTTP://mybatis.org/dtd/mybatis-3-mapper.dtd">
<mapper namespace="memo">

	<!-- 21.05.03 쪽지 table에 데이터 삽입 -->
	<insert id="insertMemo" parameterType="memoDTO" 
		useGeneratedKeys="true" keyProperty="memo_no">
		insert into member (writer_id, writer_name, receiver_id, receiver_name, title, content, date, has_file)
		values (#{writer_id}, #{writer_name}, #{receiver_id}, #{receiver_name}, #{title}, #{content}, SYSDATE(), #{has_file})
	</insert>
	
	<!-- 21.05.03 쪽지 첨부파일 table에 데이터 삽입 -->
	<insert id="insertMemoFile" parameterType="memoDTO" 
		useGeneratedKeys="true" keyProperty="memo_file_no">
		insert into member (memo_no, file_seq, file_no)
		values (#{memo_no}, #{file_seq}, #{file_no})
	</insert>
	
	<!-- 21.04.21 아이디 존재 확인
	<select id="getIDCnt" resultType="Integer" parameterType="String">
		select count(id) from member
		where id = #{id}
	</select>
	21.04.17 최근 접속일 갱신
	<update id="logDate" parameterType="String">
		update member SET log_date = SYSDATE() where id = #{id}
	</update> -->
</mapper>
	
